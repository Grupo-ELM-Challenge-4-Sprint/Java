# Java

**Documentação de Java**:
https://docs.google.com/document/d/1b0RA6Fp_hmQFm2BzxH5Cd8ex61BAoVD_DEWLU3QEb34/edit?usp=sharing

**Link Render**:
https://projeto-simpleshc.onrender.com

---

**Criação das tabelas SQL**:

CREATE TABLE ddd_usuario(
    id_user NUMBER(5) GENERATED BY DEFAULT AS IDENTITY CONSTRAINT PK_USER PRIMARY KEY,
    cpf VARCHAR2(11) NOT NULL UNIQUE,
    nome VARCHAR2(100) NOT NULL,
    senha VARCHAR2(100) NOT NULL,
    email VARCHAR2(50) NOT NULL UNIQUE,
    telefone VARCHAR2(16) NOT NULL,
    data_nascimento DATE NOT NULL,
    tipo_usuario VARCHAR2(10) NOT NULL CHECK (tipo_usuario IN ('PACIENTE', 'CUIDADOR')),
    cpf_paciente VARCHAR2(11),
    cpf_cuidador VARCHAR2(11),
    paciente_editar NUMBER(1,0) DEFAULT 1 NOT NULL,
    CONSTRAINT FK_PACIENTE FOREIGN KEY (cpf_paciente) REFERENCES ddd_usuario(cpf),
    CONSTRAINT FK_CUIDADOR FOREIGN KEY (cpf_cuidador) REFERENCES ddd_usuario(cpf)
);

CREATE TABLE ddd_consulta(
    id_consulta NUMBER(5) GENERATED BY DEFAULT AS IDENTITY CONSTRAINT PK_CONS PRIMARY KEY,
    especialidade VARCHAR2(50) NOT NULL,
    medico VARCHAR2(100),
    data DATE NOT NULL,
    hora VARCHAR2(5) NOT NULL,
    tipo VARCHAR2(20) NOT NULL CHECK (tipo IN ('Presencial', 'Teleconsulta')),
    local VARCHAR2(200) NOT NULL,
    observacoes VARCHAR2(200),
    status VARCHAR2(20) NOT NULL CHECK (status IN ('Agendada', 'Concluída')),
    id_user NUMBER(5) NOT NULL,
    CONSTRAINT FK_CONS_USER FOREIGN KEY (id_user) REFERENCES ddd_usuario(id_user) ON DELETE CASCADE
);

CREATE TABLE ddd_receita(
    id_receita NUMBER(5) GENERATED BY DEFAULT AS IDENTITY CONSTRAINT PK_RECEITA PRIMARY KEY,
    nome VARCHAR2(100) NOT NULL,
    frequencia NUMBER(3) NOT NULL,
    dias VARCHAR2(100) NOT NULL,
    numero_dias NUMBER(5) NOT NULL,
    data_inicio DATE NOT NULL,
    hora_inicio VARCHAR2(5) NOT NULL,
    observacoes VARCHAR2(200),
    status VARCHAR2(10) NOT NULL CHECK (status IN ('Ativo', 'Inativo')),
    id_user NUMBER(5) NOT NULL,
    CONSTRAINT FK_RECEITA_USER FOREIGN KEY (id_user) REFERENCES ddd_usuario(id_user) ON DELETE CASCADE
);

-- Índices para otimizar buscas por CPF (importante para login e vinculação)
CREATE INDEX idx_usuario_cpf ON ddd_usuario(cpf);
CREATE INDEX idx_usuario_cpf_paciente ON ddd_usuario(cpf_paciente);
CREATE INDEX idx_usuario_cpf_cuidador ON ddd_usuario(cpf_cuidador);

-- Índices para otimizar buscas de consultas e receitas por usuário
CREATE INDEX idx_consulta_user ON ddd_consulta(id_user);
CREATE INDEX idx_receita_user ON ddd_receita(id_user);


SELECT * FROM ddd_usuario;

SELECT * FROM ddd_consulta;

SELECT * FROM ddd_receita;
